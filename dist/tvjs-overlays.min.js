/*! TVJS Overlays - v0.2.0 - Sun Aug 16 2020
    https://github.com/tvjsx/trading-vue-js
    Copyright (c) 2020 c451 Code's All Right;
    Licensed under the MIT license */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("trading-vue-js")):"function"==typeof define&&define.amd?define(["trading-vue-js"],e):"object"==typeof exports?exports.TvjsOverlays=e(require("trading-vue-js")):n.TvjsOverlays=e(n["trading-vue-js"])}(window,(function(n){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=1)}([function(e,t){e.exports=n},function(n,e,t){"use strict";t.r(e),t.d(e,"ALMA",(function(){return u})),t.d(e,"ATR",(function(){return s})),t.d(e,"ATRp",(function(){return c})),t.d(e,"BB",(function(){return d})),t.d(e,"BBW",(function(){return p})),t.d(e,"CCI",(function(){return m})),t.d(e,"CMO",(function(){return _})),t.d(e,"COG",(function(){return g})),t.d(e,"DMI",(function(){return x})),t.d(e,"EMA",(function(){return A})),t.d(e,"HMA",(function(){return T})),t.d(e,"Histogram",(function(){return B})),t.d(e,"Ichimoku",(function(){return $})),t.d(e,"KC",(function(){return j})),t.d(e,"KCW",(function(){return K})),t.d(e,"LongShortTrades",(function(){return E})),t.d(e,"MACD",(function(){return G})),t.d(e,"MFI",(function(){return X})),t.d(e,"MOM",(function(){return J})),t.d(e,"PlotCross",(function(){return nn})),t.d(e,"ROC",(function(){return tn})),t.d(e,"RSI",(function(){return on})),t.d(e,"Ribbon",(function(){return ln})),t.d(e,"SAR",(function(){return an})),t.d(e,"SMA",(function(){return fn})),t.d(e,"SWMA",(function(){return hn})),t.d(e,"Stoch",(function(){return Sn})),t.d(e,"TSI",(function(){return yn})),t.d(e,"VWMA",(function(){return kn})),t.d(e,"WilliamsR",(function(){return bn}));var r=t(0);function o(n,e,t,r,o,i,u,l){var s,a="function"==typeof n?n.options:n;if(e&&(a.render=e,a.staticRenderFns=t,a._compiled=!0),r&&(a.functional=!0),i&&(a._scopeId="data-v-"+i),u?(s=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(u)},a._ssrRegister=s):o&&(s=l?function(){o.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(a.functional){a._injectStyles=s;var c=a.render;a.render=function(n,e){return s.call(e),c(n,e)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,s):[s]}return{exports:n,options:a}}var i=o({name:"ALMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Arnaud Legoux Moving Average"}},use_for:function(){return["ALMA"]},calc:function(){return{props:{length:{def:10,text:"Length"},offset:{def:.9,text:"Offset"},sigma:{def:5,text:"Sigma"}},conf:{renderer:"Spline"},update:"\n                    return alma(close, length, offset, sigma)[0]\n                "}}}},undefined,undefined,!1,null,null,null);i.options.__file="src/overlays/ALMA/ALMA.vue";var u=i.exports,l=o({name:"ATR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range"}},use_for:function(){return["ATR"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return atr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);l.options.__file="src/overlays/ATR/ATR.vue";var s=l.exports,a=o({name:"ATRp",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range, %"}},use_for:function(){return["ATRp"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return 100 * atr(length)[0] / close[0]\n                "}}}},undefined,undefined,!1,null,null,null);a.options.__file="src/overlays/ATRp/ATRp.vue";var c=a.exports,f=o({name:"BB",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands"}},use_for:function(){return["BB"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = bb(close, length, stddev)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);f.options.__file="src/overlays/BB/BB.vue";var d=f.exports,h=o({name:"BBW",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands Width"}},use_for:function(){return["BBW"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Spline"},update:"\n                    return bbw(close, length, stddev)[0]\n                "}}}},undefined,undefined,!1,null,null,null);h.options.__file="src/overlays/BBW/BBW.vue";var p=h.exports,v=o({name:"CCI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Commodity Channel Index"}},use_for:function(){return["CCI"]},calc:function(){return{props:{length:{def:21,text:"Length"}},conf:{renderer:"Range"},update:"return cci(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);v.options.__file="src/overlays/CCI/CCI.vue";var m=v.exports,S=o({name:"CMO",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Chande Momentum Oscillator"}},use_for:function(){return["CMO"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cmo(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);S.options.__file="src/overlays/CMO/CMO.vue";var _=S.exports,y=o({name:"COG",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Center of Gravity"}},use_for:function(){return["COG"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cog(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);y.options.__file="src/overlays/COG/COG.vue";var g=y.exports,k=o({name:"DMI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Directional Movement Index"}},use_for:function(){return["DMI"]},calc:function(){return{props:{length:{def:15,text:"DI Length"},smooth:{def:15,text:"ADX Smothing"}},conf:{renderer:"Splines"},update:"\n                    let [adx, dp, dn] = dmi(length, smooth)\n                    return [adx[0], dp[0], dn[0]]\n                "}}}},undefined,undefined,!1,null,null,null);k.options.__file="src/overlays/DMI/DMI.vue";var x=k.exports,b=o({name:"EMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Exponential Moving Average"}},use_for:function(){return["EMA"]},calc:function(){return{props:{length:{def:12,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return ema(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);b.options.__file="src/overlays/EMA/EMA.vue";var A=b.exports,w=o({name:"HMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Hull Moving Average"}},use_for:function(){return["HMA"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return hma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);w.options.__file="src/overlays/HMA/HMA.vue";var T=w.exports;function C(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return M(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function M(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var O=o({name:"Histogram",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0"}},draw:function(n){n.lineWidth=this.line_width,n.strokeStyle=this.color,n.beginPath();var e,t=this.$props.layout,r=t.$2screen(0)+.5,o=this.line_width%2?0:.5,i=C(this.$props.data);try{for(i.s();!(e=i.n()).done;){var u=e.value,l=t.t2screen(u[0])-o,s=t.$2screen(u[1])-.5,a=!1;u[2]?(n.strokeStyle!==u[2]&&(n.stroke(),a=!0),n.strokeStyle=u[2]):(n.strokeStyle!==this.color&&(n.stroke(),a=!0),n.strokeStyle=this.color),a&&n.beginPath(),n.moveTo(l,r),n.lineTo(l,s)}}catch(n){i.e(n)}finally{i.f()}n.stroke()},use_for:function(){return["Histogram"]},legend:function(n){var e=n[1];return"number"==typeof e&&(e=e.toFixed(Math.abs(e)>.001?4:8)),[{value:e,color:n[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var n=this.$props.num%5;return this.sett.color||this.COLORS[n]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);O.options.__file="src/overlays/Histogram/Histogram.vue";var B=O.exports;function R(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return W(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function W(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var I=o({name:"Ichimoku",mixins:[r.Overlay],data:function(){return{ctxTenkan:{},ctxKijun:{},ctxSenkouSpanA:{},ctxSenkouSpanB:{},ctxChinkou:{},ctxFillKumo:{},tenkan:[],kijun:[],senkouSpanA:[],senkouSpanB:[],chinkou:[],offset:26,tenkanLineWidth:1,kijunLineWidth:1,senkouSpanALineWidth:1,senkouSpanBLineWidth:1,chinkouLineWidth:1,colorTenkan:"#52A634",colorKijun:"#52A59D",colorSenkouSpanA:"#438625",colorSenkouSpanB:"#bd003c",colorChinkou:"#BF2A64",colorKumoUp:"#063f0f",colorKumoDown:"#391c19",showTenkan:!0,showKijun:!0,showSenkouSpanA:!0,showSenkouSpanB:!0,showChinkou:!0,showFillKumo:!0}},computed:{sett:function(){return this.$props.settings},tenkan_color:function(){return this.sett["tenkan-color"]||this.colorTenkan},kijun_color:function(){return this.sett["kijun-color"]||this.colorKijun},senkou_spanA_color:function(){return this.sett.senkou_spanA_color||this.colorSenkouSpanA},senkou_spanB_color:function(){return this.sett.senkou_spanB_color||this.colorSenkouSpanB},chinkou_color:function(){return this.sett.chinkou_color||this.colorChinkou},kumo_up_color:function(){return this.sett.kumo_up_color||this.colorKumoUp},kumo_down_color:function(){return this.sett.kumo_down_color||this.colorKumoDown},tenkan_line_width:function(){return this.sett.tenkan_line_width||this.tenkanLineWidth},kijun_line_width:function(){return this.sett.kijun_line_width||this.kijunLineWidth},senkou_spanA_line_width:function(){return this.sett.senkou_spanA_line_width||this.senkouSpanALineWidth},senkou_spanB_line_width:function(){return this.sett.senkou_spanB_line_width||this.senkouSpanBLineWidth},chinkou_line_width:function(){return this.sett.chinkou_line_width||this.chinkouLineWidth}},methods:{meta_info:function(){return{author:"Sudeep Batra (www.stoxalpha.com)",version:"1.0.0"}},draw:function(n){var e=this.$props.layout,t=this.$props.sub;this.ctxTenkan=n,this.ctxKijun=n,this.ctxSenkouSpanA=n,this.ctxSenkouSpanB=n,this.ctxChinkou=n,this.ctxFillKumo=n;var r=this.$props.data.slice(0,t.length),o=this.$props.data.slice(0,t.length+this.offset),i=this.$props.data.slice(0,t.length-this.offset);if(this.showFillKumo){this.ctxFillKumo.beginPath();var u,l=0,s=R(o);try{for(s.s();!(u=s.n()).done;){var a=u.value;if(l>1){var c=this.map_senkou_span_values(o[l-1]),f=this.map_senkou_span_values(a);this.ctxSenkouSpanB.beginPath(),this.ctxSenkouSpanB.moveTo(c.x,c.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanB),this.ctxSenkouSpanB.lineTo(c.x,c.senkouSpanB),c.senkouSpanA>=c.senkouSpanB?this.ctxSenkouSpanB.fillStyle=this.kumo_down_color:this.ctxSenkouSpanB.fillStyle=this.kumo_up_color,this.ctxSenkouSpanB.fill()}l++}}catch(n){s.e(n)}finally{s.f()}this.ctxSenkouSpanB.stroke()}if(this.showTenkan){this.ctxTenkan.beginPath();var d,h=R(r);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.ctxTenkan.strokeStyle=this.tenkan_color,this.ctxTenkan.lineWidth=this.tenkan_line_width,this.ctxTenkan.lineTo(e.t2screen(p[0]),e.$2screen(p[1]))}}catch(n){h.e(n)}finally{h.f()}this.ctxTenkan.stroke()}if(this.showKijun){this.ctxKijun.beginPath();var v,m=R(r);try{for(m.s();!(v=m.n()).done;){var S=v.value;this.ctxKijun.strokeStyle=this.kijun_color,this.ctxKijun.lineWidth=this.kijun_line_width,this.ctxKijun.lineTo(e.t2screen(S[0]),e.$2screen(S[2]))}}catch(n){m.e(n)}finally{m.f()}this.ctxKijun.stroke()}if(this.showSenkouSpanA){this.ctxSenkouSpanA.beginPath();var _,y=R(o);try{for(y.s();!(_=y.n()).done;){var g=_.value;this.ctxSenkouSpanA.strokeStyle=this.senkou_spanA_color,this.ctxSenkouSpanA.lineWidth=this.senkou_spanA_line_width,this.ctxSenkouSpanA.lineTo(e.t2screen(g[0]),e.$2screen(g[3]))}}catch(n){y.e(n)}finally{y.f()}this.ctxSenkouSpanA.stroke()}if(this.colorSenkouSpanB){this.ctxSenkouSpanB.beginPath();var k,x=R(o);try{for(x.s();!(k=x.n()).done;){var b=k.value;this.ctxSenkouSpanB.strokeStyle=this.senkou_spanB_color,this.ctxSenkouSpanB.lineWidth=this.senkou_spanB_line_width,this.ctxSenkouSpanB.lineTo(e.t2screen(b[0]),e.$2screen(b[4]))}}catch(n){x.e(n)}finally{x.f()}this.ctxSenkouSpanB.stroke()}if(this.showChinkou){this.ctxChinkou.beginPath();var A,w=R(i);try{for(w.s();!(A=w.n()).done;){var T=A.value;this.ctxChinkou.strokeStyle=this.chinkou_color,this.ctxChinkou.lineWidth=this.chinkou_line_width,this.ctxChinkou.lineTo(e.t2screen(T[0]),e.$2screen(T[5]))}}catch(n){w.e(n)}finally{w.f()}this.ctxChinkou.stroke()}},map_senkou_span_values:function(n){var e=this.$props.layout;return n&&{x:e.t2screen(n[0]),senkouSpanA:e.$2screen(n[3]),senkouSpanB:e.$2screen(n[4])}},use_for:function(){return["Ichimoku"]},data_colors:function(){var n=[];return n.push(this.tenkan_color),n.push(this.kijun_color),n.push(this.senkou_spanA_color),n.push(this.senkou_spanB_color),n.push(this.chinkou_color),n}}},undefined,undefined,!1,null,null,null);I.options.__file="src/overlays/Ichimoku/Ichimoku.vue";var $=I.exports,L=o({name:"KC",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels"}},use_for:function(){return["KC"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = kc(close, length, mult, use_tr)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);L.options.__file="src/overlays/KC/KC.vue";var j=L.exports,P=o({name:"KCW",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels Width"}},use_for:function(){return["KCW"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Spline"},update:"\n                    return kcw(close, length, mult, use_tr)[0]\n                "}}}},undefined,undefined,!1,null,null,null);P.options.__file="src/overlays/KCW/KCW.vue";var K=P.exports;function q(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return D(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function D(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var F=o({name:"LongShortTrades",mixins:[r.Overlay],computed:{sett:function(){return this.$props.settings},default_font:function(){return"12px "+this.$props.font.split("px").pop()},currency_symbol:function(){return this.sett.currency||"₹"},long_color:function(){return this.sett.longColor||"#63df89"},short_color:function(){return this.sett.shortColor||"#ffd581"},long_cover_color:function(){return this.sett.longCoverColor||"#fc7e2f"},short_cover_color:function(){return this.sett.shortCoverColor||"#ff6bd6"},label_color:function(){return"#4BECF9"},marker_size:function(){return this.sett.markerSize||5},show_label:function(){return!1!==this.sett.showLabel},new_font:function(){return this.sett.font||this.default_font}},methods:{meta_info:function(){return{author:"Sudeep Batra",version:"1.0.1"}},draw:function(n){var e=this.$props.layout;n.lineWidth=1.5,n.strokeStyle="black";var t,r=q(this.$props.data);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o[0],u=o[1],l=o[2],s=o[3],a=(o[4],o[5]),c=o[6],f=o[7],d=e.t2screen(i),h=e.$2screen(c),p=e.$2screen(a);switch(u){case 0:this.filledArrowDownFilledBottom(n,d,p-25,5,5,3,20,this.short_color),this.draw_label(n,d+30,p-35,this.currency_symbol+f);break;case 1:this.filledArrowUpFilledBottom(n,d,h+20,5,5,3,20,this.long_color),this.draw_label(n,d+30,h+40,this.currency_symbol+f);break;case 2:this.upTriangle(n,d,h+25,5,7,this.short_cover_color),this.show_label&&l&&this.draw_label(n,d,h+50,l+" ("+s+")");break;case 3:this.downTriangle(n,d,p-25,5,7,this.long_cover_color),this.show_label&&l&&this.draw_label(n,d,p-45,l+" ("+s+")");break;default:n.fillStyle="black"}}}catch(n){r.e(n)}finally{r.f()}},draw_label:function(n,e,t,r){n.fillStyle=this.label_color,n.font=this.new_font,n.textAlign="center",n.fillText(r,e,t)},use_for:function(){return["LongShortTrades"]},legend:function(n){switch(n[1]){case 0:var e="Short";break;case 1:e="Long";break;case 2:e="Short Cover";break;case 3:e="Long Cover";break;default:e="Unknown"}return[{value:e},{value:n[2].toFixed(4),color:this.$props.colors.colorText}].concat(n[3]?[{value:n[3]}]:[])},simpleArrowUp:function(n,e,t,r){n.beginPath(),n.fillStyle=r,n.strokeStyle=r,n.moveTo(e-5,t+5),n.lineTo(e,t),n.lineTo(e+5,t+5),n.moveTo(e,t),n.lineTo(e,t+15),n.stroke(),n.closePath()},simpleArrowDown:function(n,e,t,r){n.beginPath(),n.fillStyle=r,n.strokeStyle=r,n.moveTo(e-5,t-5),n.lineTo(e,t),n.lineTo(e+5,t-5),n.moveTo(e,t),n.lineTo(e,t-15),n.stroke(),n.closePath()},filledArrowUp:function(n,e,t,r,o,i,u){n.beginPath(),n.fillStyle=u,n.strokeStyle=u,n.moveTo(e-r,t+o),n.lineTo(e,t),n.lineTo(e+r,t+o),n.moveTo(e,t),n.lineTo(e,t+i),n.fill(),n.stroke(),n.closePath()},filledDownArrow:function(n,e,t,r,o,i,u){n.beginPath(),n.fillStyle=u,n.strokeStyle=u,n.moveTo(e-r,t-o),n.lineTo(e,t),n.lineTo(e+r,t-o),n.moveTo(e,t),n.lineTo(e,t-i),n.fill(),n.stroke(),n.closePath()},filledArrowUpFilledBottom:function(n,e,t,r,o,i,u,l){n.beginPath(),n.fillStyle=l,n.strokeStyle=l,n.moveTo(e-r,t+o),n.lineTo(e,t),n.lineTo(e+r,t+o),n.moveTo(e,t),n.rect(e-i/2,t+o,i,u),n.fill(),n.stroke(),n.closePath()},filledArrowDownFilledBottom:function(n,e,t,r,o,i,u,l){n.beginPath(),n.fillStyle=l,n.strokeStyle=l,n.moveTo(e-r,t-o),n.lineTo(e,t),n.lineTo(e+r,t-o),n.moveTo(e,t),n.rect(e-i/2,t-o-u,i,u),n.fill(),n.stroke(),n.closePath()},upTriangle:function(n,e,t,r,o,i){n.beginPath(),n.fillStyle=i,n.strokeStyle=i,n.moveTo(e-r,t+o),n.lineTo(e,t),n.lineTo(e+r,t+o),n.fill(),n.stroke(),n.closePath()},downTriangle:function(n,e,t,r,o,i){n.beginPath(),n.fillStyle=i,n.strokeStyle=i,n.moveTo(e-r,t-o),n.lineTo(e,t),n.lineTo(e+r,t-o),n.fill(),n.stroke(),n.closePath()}}},undefined,undefined,!1,null,null,null);F.options.__file="src/overlays/LongShortTrades/LongShortTrades.vue";var E=F.exports;function U(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return H(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function H(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var V=o({name:"MACD",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Moving Average Convergence/Divergence"}},draw:function(n){var e=this.$props.layout,t=e.$2screen(0)+.5,r=this.hist_width%2?0:.5;n.lineWidth=this.hist_width,n.strokeStyle=this.color,n.beginPath();var o,i=U(this.$props.data);try{for(i.s();!(o=i.n()).done;){var u=o.value,l=e.t2screen(u[0])-r,s=e.$2screen(u[1])-.5,a=!1;u[4]?(n.strokeStyle!==u[4]&&(n.stroke(),a=!0),n.strokeStyle=u[4]):(n.strokeStyle!==this.color&&(n.stroke(),a=!0),n.strokeStyle=this.color),a&&n.beginPath(),n.moveTo(l,t),n.lineTo(l,s)}}catch(n){i.e(n)}finally{i.f()}n.stroke(),n.beginPath(),n.lineWidth=this.macd_width,n.strokeStyle=this.macd_color;var c,f=U(this.$props.data);try{for(f.s();!(c=f.n()).done;){u=c.value;var d=e.t2screen(u[0]),h=e.$2screen(u[2]);n.lineTo(d,h)}}catch(n){f.e(n)}finally{f.f()}n.stroke(),n.beginPath(),n.lineWidth=this.signal_width,n.strokeStyle=this.signal_color;var p,v=U(this.$props.data);try{for(v.s();!(p=v.n()).done;){u=p.value;var m=e.t2screen(u[0]),S=e.$2screen(u[3]);n.lineTo(m,S)}}catch(n){v.e(n)}finally{v.f()}n.stroke()},use_for:function(){return["MACD"]},legend:function(n){var e=n.slice(1,4).map((function(n){return n.toFixed(Math.abs(n)>.001?4:8)}));return[{value:e[0],color:n[4]},{value:e[1],color:this.macd_color},{value:e[2],color:this.signal_color}]},calc:function(){return{props:{fast:{def:12,text:"Fast Length"},slow:{def:26,text:"Slow Length"},smooth:{def:9,text:"Signal EMA"},histColors:{def:[],text:"Colors"}},conf:{renderer:"Spline"},update:"\n                    let [macd, signal, hist] =\n                        macd(close, fast, slow, smooth)\n\n                    if (hist[0] >= 0) {\n                         var color = histColors[0]\n                         if (hist[0] < hist[1]) color = histColors[1]\n                    } else {\n                        color = histColors[2]\n                        if (hist[0] > hist[1]) color = histColors[3]\n                    }\n\n                    return [hist[0], macd[0], signal[0], color]\n                "}}},computed:{sett:function(){return this.$props.settings},hist_width:function(){return this.sett.histWidth||4},macd_width:function(){return this.sett.macdWidth||1},signal_width:function(){return this.sett.signalWidth||1},color:function(){return this.sett.defColor||"#42b28a"},macd_color:function(){return this.sett.macdColor||"#3782f2"},signal_color:function(){return this.sett.signalColor||"#f48709"},hist_colors:function(){return this.sett.histColors}}},undefined,undefined,!1,null,null,null);V.options.__file="src/overlays/MACD/MACD.vue";var G=V.exports,N=o({name:"MFI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Money Flow Index"}},use_for:function(){return["MFI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    let hlc3 = ts((high[0] + low[0] + close[0]) / 3)\n                    return mfi(hlc3, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);N.options.__file="src/overlays/MFI/MFI.vue";var X=N.exports,z=o({name:"MOM",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Momentum"}},use_for:function(){return["MOM"]},calc:function(){return{props:{length:{def:11,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return mom(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);z.options.__file="src/overlays/MOM/MOM.vue";var J=z.exports;function Q(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return Y(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function Y(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Z=o({name:"PlotCross",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0"}},draw:function(n){var e=n.lineWidth=this.line_width;n.strokeStyle=this.color,n.beginPath();var t,r=this.$props.layout,o=(r.$2screen(0),this.line_width%2?0:.5),i=this.line_width%2?.5:1,u=Q(this.$props.data);try{for(u.s();!(t=u.n()).done;){var l=t.value,s=r.t2screen(l[0])-o,a=r.$2screen(l[1])-o,c=!1;l[2]?(n.strokeStyle!==l[2]&&(n.stroke(),c=!0),n.strokeStyle=l[2]):(n.strokeStyle!==this.color&&(n.stroke(),c=!0),n.strokeStyle=this.color),c&&n.beginPath(),n.moveTo(s,a-2*e+i),n.lineTo(s,a+2*e-i),n.moveTo(s-2*e+i,a),n.lineTo(s+2*e-i,a)}}catch(n){u.e(n)}finally{u.f()}n.stroke()},use_for:function(){return["PlotCross"]},legend:function(n){var e=n[1];return"number"==typeof e&&(e=e.toFixed(Math.abs(e)>.001?4:8)),[{value:e,color:n[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var n=this.$props.num%5;return this.sett.color||this.COLORS[n]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);Z.options.__file="src/overlays/PlotCross/PlotCross.vue";var nn=Z.exports,en=o({name:"ROC",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Rate of Change"}},use_for:function(){return["ROC"]},calc:function(){return{props:{length:{def:9,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return roc(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);en.options.__file="src/overlays/ROC/ROC.vue";var tn=en.exports,rn=o({name:"RSI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Relative Strength Index"}},use_for:function(){return["RSI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"return rsi(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);rn.options.__file="src/overlays/RSI/RSI.vue";var on=rn.exports,un=o({name:"Ribbon",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Moving Average Ribbon"}},use_for:function(){return["Ribbon"]},calc:function(){return{props:{start:{def:10,text:"Start Length"},number:{def:5,text:"Number of Lines"},step:{def:10,text:"Length Step"}},conf:{renderer:"Splines"},update:"\n                    this[0] = []\n                    for (var i = 0; i < number; i++) {\n                        let l = start + i * step\n                        this[0].push(ema(close, l)[0])\n                    }\n                "}}}},undefined,undefined,!1,null,null,null);un.options.__file="src/overlays/Ribbon/Ribbon.vue";var ln=un.exports,sn=o({name:"SAR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Parabolic SAR"}},use_for:function(){return["SAR"]},calc:function(){return{props:{start:{def:.02,text:"Start"},inc:{def:.02,text:"Increment"},max:{def:.2,text:"Maximum"}},conf:{renderer:"PlotCross"},update:"\n                    return sar(start, inc, max)[0]\n                "}}}},undefined,undefined,!1,null,null,null);sn.options.__file="src/overlays/SAR/SAR.vue";var an=sn.exports,cn=o({name:"SMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Symmetrically Weighted Moving Average"}},use_for:function(){return["SMA"]},calc:function(){return{props:{length:{def:25,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return sma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);cn.options.__file="src/overlays/SMA/SMA.vue";var fn=cn.exports,dn=o({name:"SWMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Symmetrically Weighted Moving Average"}},use_for:function(){return["SWMA"]},calc:function(){return{props:{},conf:{renderer:"Spline"},update:"\n                    return swma(close)[0]\n                "}}}},undefined,undefined,!1,null,null,null);dn.options.__file="src/overlays/SWMA/SWMA.vue";var hn=dn.exports;function pn(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return vn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vn(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){l=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function vn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var mn=o({name:"Stoch",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0"}},draw:function(n){var e=this.$props.layout,t=e.$2screen(this.sett.upper||80),r=e.$2screen(this.sett.lower||20);n.lineWidth=this.line_width,n.strokeStyle=this.k_color,n.beginPath();var o,i=pn(this.$props.data);try{for(i.s();!(o=i.n()).done;){var u=o.value,l=e.t2screen(u[0]),s=e.$2screen(u[1]);n.lineTo(l,s)}}catch(n){i.e(n)}finally{i.f()}n.stroke(),n.lineWidth=this.line_width,n.strokeStyle=this.d_color,n.beginPath();var a,c=pn(this.$props.data);try{for(c.s();!(a=c.n()).done;){u=a.value;var f=e.t2screen(u[0]),d=e.$2screen(u[2]);n.lineTo(f,d)}}catch(n){c.e(n)}finally{c.f()}n.stroke(),n.strokeStyle=this.band_color,n.setLineDash([5]),n.beginPath(),n.fillStyle=this.back_color,n.fillRect(0,t,e.width,r-t),n.moveTo(0,t),n.lineTo(e.width,t),n.moveTo(0,r),n.lineTo(e.width,r),n.stroke()},use_for:function(){return["Stoch"]},data_colors:function(){return[this.color]},y_range:function(n,e){return[Math.max(n,this.sett.upper||80),Math.min(e,this.sett.lower||20)]},calc:function(){return{props:{param_k:{def:14,text:"K"},param_d:{def:3,text:"D"},smooth:{def:3,text:"Smooth"}},update:"\n                    let k = sma(stoch(close, high, low, param_k), smooth)\n                    let d = sma(k, param_d)\n                    return [k[0], d[0]]\n                "}}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||.75},k_color:function(){return this.sett.kColor||"#3782f2"},d_color:function(){return this.sett.dColor||"#f48709"},band_color:function(){return this.sett.bandColor||"#ddd"},back_color:function(){return this.sett.backColor||"#381e9c16"}}},undefined,undefined,!1,null,null,null);mn.options.__file="src/overlays/Stoch/Stoch.vue";var Sn=mn.exports,_n=o({name:"TSI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"True Strength Index"}},use_for:function(){return["TSI"]},calc:function(){return{props:{long:{def:25,text:"Long Length"},short:{def:13,text:"Short Length"},signal:{def:13,text:"Signal Length"}},conf:{renderer:"Splines"},update:"\n                    let val = tsi(close, short, long)\n                    let sig = ema(val, signal)\n                    return [val[0] * 100, sig[0] * 100]\n                "}}}},undefined,undefined,!1,null,null,null);_n.options.__file="src/overlays/TSI/TSI.vue";var yn=_n.exports,gn=o({name:"VWMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Volume Weighted Moving Average"}},use_for:function(){return["VWMA"]},calc:function(){return{props:{length:{def:20,text:"Length"}},conf:{renderer:"Range"},update:"\n                    return vwma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);gn.options.__file="src/overlays/VWMA/VWMA.vue";var kn=gn.exports,xn=o({name:"WilliamsR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Williams %R"}},use_for:function(){return["WilliamsR"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    return wpr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);xn.options.__file="src/overlays/WilliamsR/WilliamsR.vue";var bn=xn.exports,An={ALMA:u,ATR:s,ATRp:c,BB:d,BBW:p,CCI:m,CMO:_,COG:g,DMI:x,EMA:A,HMA:T,Histogram:B,Ichimoku:$,KC:j,KCW:K,LongShortTrades:E,MACD:G,MFI:X,MOM:J,PlotCross:nn,ROC:tn,RSI:on,Ribbon:ln,SAR:an,SMA:fn,SWMA:hn,Stoch:Sn,TSI:yn,VWMA:kn,WilliamsR:bn};"undefined"!=typeof window&&window.Vue&&(window.TvjsOverlays=An);e.default=An}])}));
//# sourceMappingURL=tvjs-overlays.min.js.map